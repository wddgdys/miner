(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09a7cef1"],{9701:function(t,e,i){},a481:function(t,e,i){"use strict";var n=i("cb7c"),a=i("4bf8"),s=i("9def"),o=i("4588"),r=i("0390"),c=i("5f1b"),l=Math.max,d=Math.min,u=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};i("214f")("replace",2,(function(t,e,i,v){return[function(n,a){var s=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,s,a):i.call(String(s),n,a)},function(t,e){var a=v(i,t,this,e);if(a.done)return a.value;var u=n(t),h=String(this),f="function"===typeof e;f||(e=String(e));var b=u.global;if(b){var m=u.unicode;u.lastIndex=0}var y=[];while(1){var _=c(u,h);if(null===_)break;if(y.push(_),!b)break;var k=String(_[0]);""===k&&(u.lastIndex=r(h,s(u.lastIndex),m))}for(var x="",w=0,$=0;$<y.length;$++){_=y[$];for(var I=String(_[0]),S=l(d(o(_.index),h.length),0),P=[],C=1;C<_.length;C++)P.push(p(_[C]));var T=_.groups;if(f){var E=[I].concat(P,S,h);void 0!==T&&E.push(T);var j=String(e.apply(void 0,E))}else j=g(I,h,S,P,T,e);S>=w&&(x+=h.slice(w,S)+j,w=S+I.length)}return x+h.slice(w)}];function g(t,e,n,s,o,r){var c=n+t.length,l=s.length,d=f;return void 0!==o&&(o=a(o),d=h),i.call(r,d,(function(i,a){var r;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(c);case"<":r=o[a.slice(1,-1)];break;default:var d=+a;if(0===d)return i;if(d>l){var h=u(d/10);return 0===h?i:h<=l?void 0===s[h-1]?a.charAt(1):s[h-1]+a.charAt(1):i}r=s[d-1]}return void 0===r?"":r}))}}))},b4c05:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"indexContainer"},[i("div",{staticClass:"header"},[i("span",[t._v("千人计划用户列表")]),i("a-button",{staticClass:"button",on:{click:t.logout}},[t._v("登出")])],1),i("div",{staticClass:"search"},[i("a-input",{staticClass:"searchInput",attrs:{placeholder:"请输入要搜索的手机号",allowClear:!0},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}),i("a-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1),i("div",{staticClass:"table"},[i("a-table",{attrs:{columns:t.columns,dataSource:t.data,pagination:!1},scopedSlots:t._u([{key:"operation",fn:function(e,n){return i("div",{},[0===n.finish?i("a",{staticStyle:{margin:"0 5px"},attrs:{href:"javascript:;"},on:{click:function(e){return t.resolve(n.id)}}},[t._v("通过审核")]):t._e(),1===n.status?i("a",{staticStyle:{margin:"0 5px"},attrs:{href:"javascript:;"},on:{click:function(e){return t.freeze(n.id,2)}}},[t._v("冻结")]):t._e(),2===n.status?i("a",{staticStyle:{margin:"0 5px"},attrs:{href:"javascript:;"},on:{click:function(e){return t.freeze(n.id,1)}}},[t._v("解冻")]):t._e(),i("a",{staticStyle:{margin:"0 5px"},attrs:{href:"javascript:;"},on:{click:function(e){return t.editPoints(n.id)}}},[t._v("操作积分")])])}},{key:"finish",fn:function(e,n){return i("div",{},[t._v("\n        "+t._s(1===n.finish?"vip":"游客")+"\n      ")])}},{key:"status",fn:function(e,n){return i("div",{},[t._v("\n        "+t._s(1===n.status?"正常":"冻结")+"\n      ")])}}])})],1),i("div",{staticClass:"page"},[i("a-pagination",{attrs:{defaultCurrent:t.current,total:t.total,showLessItems:""},on:{change:t.changePage}})],1),i("a-modal",{attrs:{title:"增减积分",maskClosable:!1},on:{ok:t.doEdit,cancel:t.cancelReject},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("div",[i("a-radio-group",{staticStyle:{"margin-bottom":"20px"},on:{change:t.changeEditPointsType},model:{value:t.editPointsType,callback:function(e){t.editPointsType=e},expression:"editPointsType"}},[i("a-radio-button",{attrs:{value:"1"}},[t._v("增加积分")]),i("a-radio-button",{attrs:{value:"2"}},[t._v("减少积分")])],1),i("a-input",{attrs:{type:"number",placeholder:"请输入要更改的积分数"},model:{value:t.points,callback:function(e){t.points=e},expression:"points"}})],1)])],1)},a=[],s=(i("ac6a"),i("a481"),i("8ded")),o=i.n(s),r={data:function(){return{keywords:"",columns:[{title:"手机号",dataIndex:"phone",align:"center"},{title:"冻结积分",dataIndex:"frozen_points",align:"center"},{title:"可用积分",dataIndex:"active_points",align:"center"},{title:"已提现积分",dataIndex:"withdraw",align:"center"},{title:"上级手机号",dataIndex:"parent_phone",align:"center"},{title:"上上级手机号",dataIndex:"superior_phone",align:"center"},{title:"团队单数",dataIndex:"lines",align:"center"},{title:"添加时间",dataIndex:"created_at",align:"center"},{title:"用户类型",scopedSlots:{customRender:"finish"},align:"center"},{title:"用户状态",scopedSlots:{customRender:"status"},align:"center"},{title:"操作",scopedSlots:{customRender:"operation"},align:"center"}],data:[],total:0,current:1,visible:!1,editId:"",points:"",editPointsType:""}},methods:{logout:function(){o.a.clearAll(),this.$message.success("已登出!"),this.$router.replace("/login")},search:function(){this.getList(1,this.keywords)},changePage:function(t){this.current=t,this.getList(this.current,this.keywords)},resolve:function(t){var e=this,i=0;this.data.forEach((function(e,n){e.id===t&&(i=n)})),this.$api.index_api.userAudit({id:t,finish:1}).then((function(t){console.log(t),"操作成功"===t&&(e.data[i].finish=1)})).catch((function(t){console.log(t)}))},freeze:function(t,e){var i=this,n=0;this.data.forEach((function(e,i){e.id===t&&(n=i)})),this.$api.index_api.status({id:t,status:e}).then((function(t){"操作成功"===t&&(2===e?i.$message.success("账号已成功冻结"):1===e&&i.$message.success("账号已解除冻结"),i.data[n].status=e)})).catch((function(t){console.log(t)}))},editPoints:function(t){this.visible=!0,this.editId=t},changeEditPointsType:function(t){this.editPointsType=t.target.value},doEdit:function(){var t=this;if(this.editPointsType)if(this.points){var e=0;this.data.forEach((function(i,n){i.id===t.editId&&(e=n)})),this.$api.index_api.points({id:this.editId,func:this.editPointsType,points:this.points}).then((function(i){"number"===typeof i&&(t.$message.success("积分更改成功"),t.data[e].active_points=i,t.editPointsType="",t.points="",t.visible=!1)})).catch((function(t){console.log(t)}))}else this.$message.error("请输入要更改的积分数");else this.$message.error("请选择操作积分类型")},cancelReject:function(){this.editPointsType="",this.points=""},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1?arguments[1]:void 0,n=this.$message.loading("加载中",0);this.$api.index_api.member({page:e,keywords:i}).then((function(e){t.data=e.lists.data,t.total=e.lists.total,n()})).catch((function(t){console.log(t),n()}))}},created:function(){this.getList()}},c=r,l=(i("bd99"),i("2877")),d=Object(l["a"])(c,n,a,!1,null,"3c7d1e43",null);e["default"]=d.exports},bd99:function(t,e,i){"use strict";var n=i("9701"),a=i.n(n);a.a}}]);